{"version":3,"sources":["webpack:///./src/views/Login.vue?ec9f","webpack:///./src/views/Login.vue?e2da","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?343f","webpack:///./src/views/Login.vue","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","key","_v","ref","staticStyle","loginForm","loginRules","model","value","callback","$$v","$set","expression","slot","nativeOn","$event","type","indexOf","_k","keyCode","onLogin","on","preventDefault","isLogin","regForm","regRules","regIdError","codeDisabled","onSendCode","_s","codeMessage","onRegister","staticRenderFns","component","$","isObject","isArray","toAbsoluteIndex","toLength","toIndexedObject","createProperty","arrayMethodHasSpeciesSupport","wellKnownSymbol","SPECIES","nativeSlice","slice","max","Math","target","proto","forced","start","end","Constructor","result","n","O","length","k","fin","undefined","constructor","Array","prototype","call"],"mappings":"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","file":"static/js/chunk-60ba4210.fbce6869.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=8e6163c8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=8e6163c8&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-container\"},[_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(_vm.isLogin)?_c('el-card',{key:\"login\",staticClass:\"login-main\"},[_c('h2',[_vm._v(\"管理系统登录\")]),_c('el-form',{ref:\"loginForm\",staticStyle:{\"padding\":\"25px\"},attrs:{\"model\":_vm.loginForm,\"rules\":_vm.loginRules}},[_c('el-form-item',{attrs:{\"prop\":\"loginAccount\"}},[_c('el-input',{staticClass:\"login-input\",attrs:{\"placeholder\":\"账号\",\"clearable\":\"\"},model:{value:(_vm.loginForm.loginAccount),callback:function ($$v) {_vm.$set(_vm.loginForm, \"loginAccount\", $$v)},expression:\"loginForm.loginAccount\"}},[_c('i',{staticClass:\"el-icon-user\",attrs:{\"slot\":\"prepend\"},slot:\"prepend\"})])],1),_c('el-form-item',{attrs:{\"prop\":\"loginPassword\"}},[_c('el-input',{attrs:{\"placeholder\":\"密码\",\"show-password\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onLogin($event)}},model:{value:(_vm.loginForm.loginPassword),callback:function ($$v) {_vm.$set(_vm.loginForm, \"loginPassword\", $$v)},expression:\"loginForm.loginPassword\"}},[_c('i',{staticClass:\"el-icon-lock\",attrs:{\"slot\":\"prepend\"},slot:\"prepend\"})])],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onLogin},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onLogin($event)}}},[_vm._v(\"登录\")])],1),_c('el-form-item',[_c('el-link',{staticStyle:{\"font-size\":\"15px\"},attrs:{\"underline\":false},on:{\"click\":function($event){$event.preventDefault();_vm.isLogin = false}}},[_vm._v(\"还没有账号？创建一个！\")])],1)],1)],1):_c('el-card',{key:\"register\",staticClass:\"login-main\"},[_c('h2',[_vm._v(\"注册\")]),_c('el-form',{ref:\"regForm\",staticStyle:{\"padding\":\"25px\"},attrs:{\"model\":_vm.regForm,\"rules\":_vm.regRules}},[_c('el-form-item',{attrs:{\"error\":_vm.regIdError}},[_c('el-radio-group',{model:{value:(_vm.regForm.regType),callback:function ($$v) {_vm.$set(_vm.regForm, \"regType\", $$v)},expression:\"regForm.regType\"}},[_c('el-radio-button',{attrs:{\"label\":\"0\"}},[_vm._v(\"邮箱注册\")]),_c('el-radio-button',{attrs:{\"label\":\"1\"}},[_vm._v(\"手机号码注册\")])],1)],1),_c('el-form-item',{attrs:{\"prop\":\"regAccount\"}},[_c('el-input',{staticClass:\"login-input\",attrs:{\"placeholder\":\"账号\"},model:{value:(_vm.regForm.regAccount),callback:function ($$v) {_vm.$set(_vm.regForm, \"regAccount\", $$v)},expression:\"regForm.regAccount\"}},[_c('i',{staticClass:\"el-icon-user\",attrs:{\"slot\":\"prepend\"},slot:\"prepend\"})])],1),_c('el-form-item',{attrs:{\"prop\":\"regPassword\"}},[_c('el-input',{attrs:{\"placeholder\":\"密码\",\"show-password\":\"\"},model:{value:(_vm.regForm.regPassword),callback:function ($$v) {_vm.$set(_vm.regForm, \"regPassword\", $$v)},expression:\"regForm.regPassword\"}},[_c('i',{staticClass:\"el-icon-lock\",attrs:{\"slot\":\"prepend\"},slot:\"prepend\"})])],1),_c('el-form-item',{attrs:{\"prop\":\"regFirmPassword\"}},[_c('el-input',{attrs:{\"placeholder\":\"确认密码\",\"show-password\":\"\"},model:{value:(_vm.regForm.regFirmPassword),callback:function ($$v) {_vm.$set(_vm.regForm, \"regFirmPassword\", $$v)},expression:\"regForm.regFirmPassword\"}},[_c('i',{staticClass:\"el-icon-lock\",attrs:{\"slot\":\"prepend\"},slot:\"prepend\"})])],1),_c('el-form-item',{attrs:{\"prop\":\"regCitizenID\"}},[_c('el-input',{attrs:{\"placeholder\":\"身份证号\"},model:{value:(_vm.regForm.regCitizenID),callback:function ($$v) {_vm.$set(_vm.regForm, \"regCitizenID\", $$v)},expression:\"regForm.regCitizenID\"}},[_c('i',{staticClass:\"el-icon-bank-card\",attrs:{\"slot\":\"prepend\"},slot:\"prepend\"})])],1),_c('el-form-item',{attrs:{\"prop\":\"regCode\"}},[_c('el-input',{attrs:{\"placeholder\":\"验证码\"},model:{value:(_vm.regForm.regCode),callback:function ($$v) {_vm.$set(_vm.regForm, \"regCode\", $$v)},expression:\"regForm.regCode\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-s-promotion\",\"disabled\":_vm.codeDisabled},on:{\"click\":_vm.onSendCode},slot:\"append\"},[_vm._v(_vm._s(_vm.codeMessage))])],1)],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onRegister}},[_vm._v(\"注册\")])],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"normal\"},on:{\"click\":function($event){_vm.isLogin = true}}},[_vm._v(\"返回\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"login-container\">\r\n        <transition name=\"fade\" mode=\"out-in\">\r\n            <el-card class=\"login-main\" v-if=\"isLogin\" key=\"login\">\r\n                <h2>管理系统登录</h2>\r\n                <el-form ref=\"loginForm\" :model=\"loginForm\" :rules=\"loginRules\" style=\"padding: 25px;\">\r\n                    <el-form-item prop=\"loginAccount\">\r\n                        <el-input placeholder=\"账号\" v-model=\"loginForm.loginAccount\" class=\"login-input\" clearable>\r\n                            <i slot=\"prepend\" class=\"el-icon-user\"></i>\r\n                        </el-input>\r\n                    </el-form-item>\r\n                    <el-form-item prop=\"loginPassword\">\r\n                        <el-input placeholder=\"密码\" v-model=\"loginForm.loginPassword\" show-password @keyup.enter.native=\"onLogin\">\r\n                            <i slot=\"prepend\" class=\"el-icon-lock\"></i>\r\n                        </el-input>\r\n                    </el-form-item>\r\n                    <el-form-item>\r\n                        <el-button type=\"primary\" style=\"width: 100%\" @click=\"onLogin\" @keyup.enter.native=\"onLogin\">登录</el-button>\r\n                    </el-form-item>\r\n                    <el-form-item>\r\n                        <el-link :underline=\"false\" style=\"font-size: 15px;\" @click.prevent=\"isLogin = false\">还没有账号？创建一个！</el-link>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </el-card>\r\n            <el-card class=\"login-main\" v-else key=\"register\">\r\n                <h2>注册</h2>\r\n                <el-form ref=\"regForm\" :model=\"regForm\" :rules=\"regRules\" style=\"padding: 25px;\">\r\n                    <el-form-item :error=\"regIdError\">\r\n                        <el-radio-group v-model=\"regForm.regType\">\r\n                            <el-radio-button label=\"0\">邮箱注册</el-radio-button>\r\n                            <el-radio-button label=\"1\">手机号码注册</el-radio-button>\r\n                        </el-radio-group>\r\n                    </el-form-item>\r\n                    <el-form-item prop=\"regAccount\">\r\n                        <el-input placeholder=\"账号\" v-model=\"regForm.regAccount\" class=\"login-input\">\r\n                            <i slot=\"prepend\" class=\"el-icon-user\"></i>\r\n                        </el-input>\r\n                    </el-form-item>\r\n                    <el-form-item prop=\"regPassword\">\r\n                        <el-input placeholder=\"密码\" v-model=\"regForm.regPassword\" show-password>\r\n                            <i slot=\"prepend\" class=\"el-icon-lock\"></i>\r\n                        </el-input>\r\n                    </el-form-item>\r\n                    <el-form-item prop=\"regFirmPassword\">\r\n                        <el-input placeholder=\"确认密码\" v-model=\"regForm.regFirmPassword\" show-password>\r\n                            <i slot=\"prepend\" class=\"el-icon-lock\"></i>\r\n                        </el-input>\r\n                    </el-form-item>\r\n                    <el-form-item prop=\"regCitizenID\">\r\n                        <el-input placeholder=\"身份证号\" v-model=\"regForm.regCitizenID\">\r\n                            <i slot=\"prepend\" class=\"el-icon-bank-card\"></i>\r\n                        </el-input>\r\n                    </el-form-item>\r\n                    <!--<el-form-item prop=\"regID\" :error=\"regIdError\">-->\r\n                        <!--<el-input placeholder=\"凭证\" v-model=\"regForm.regID\">-->\r\n                            <!--<el-select v-model=\"regForm.regType\" slot=\"prepend\" placeholder=\"注册方式\" style=\"width: 110px;\">-->\r\n                                <!--<el-option label=\"邮箱\" value=\"0\"></el-option>-->\r\n                                <!--<el-option label=\"手机号码\" value=\"1\"></el-option>-->\r\n                            <!--</el-select>-->\r\n                        <!--</el-input>-->\r\n                    <!--</el-form-item>-->\r\n                    <el-form-item prop=\"regCode\">\r\n                        <el-input placeholder=\"验证码\" v-model=\"regForm.regCode\">\r\n                            <el-button slot=\"append\" icon=\"el-icon-s-promotion\" @click=\"onSendCode\" :disabled=\"codeDisabled\">{{codeMessage}}</el-button>\r\n                        </el-input>\r\n                    </el-form-item>\r\n                    <el-form-item>\r\n                        <el-button type=\"primary\" style=\"width: 100%\" @click=\"onRegister\">注册</el-button>\r\n                    </el-form-item>\r\n                    <el-form-item>\r\n                        <el-button type=\"normal\" style=\"width: 100%\" @click=\"isLogin = true\">返回</el-button>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </el-card>\r\n        </transition>\r\n        <!--<div style=\"color: white;\">-->\r\n            <!--<span>© 2019-2020 Appcat.site 版权所有 网站备案号：</span>-->\r\n            <!--<a href=\"http://www.beian.miit.gov.cn\" style=\"color: white;text-decoration:none;\">粤ICP备19051841号</a>-->\r\n        <!--</div>-->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {loginAPI} from '@/globalAPI';\r\n    import {mapMutations} from 'vuex'\r\n    export default {\r\n        name: \"Login\",\r\n        data() {\r\n            return {\r\n                // btoa(), need atob()\r\n                kingRoot: 'JDJhJDEwJHBHUHBBTmwza3ZvSHhXblJTcGg3Ry4=',\r\n                // 登录form中的数据\r\n                loginForm: {\r\n                    loginAccount: '',\r\n                    loginPassword: '',\r\n                },\r\n                // 注册form中的数据\r\n                regForm: {\r\n                    // 注册凭证+账号 邮件或者手机号码\r\n                    regAccount: '',\r\n                    regPassword: '',\r\n                    regFirmPassword: '',\r\n                    regCitizenID: '',\r\n                    regType: '',\r\n                    regCode: '',\r\n                },\r\n                // 登录form中的验证规则\r\n                loginRules: {\r\n                    loginAccount: [\r\n                        { required: true, message: '请输入账号', trigger: 'blur' },\r\n                    ],\r\n                    loginPassword: [\r\n                        { required: true, message: '请输入密码', trigger: 'blur' }\r\n                    ]\r\n                },\r\n                // 注册form中的验证规则\r\n                regRules: {\r\n                    regAccount: [\r\n                        { required: true, message: '请输入账号', trigger: 'blur' },\r\n                    ],\r\n                    regPassword: [\r\n                        { required: true, message: '请输入密码', trigger: 'blur' },\r\n                    ],\r\n                    regFirmPassword: [\r\n                        { required: true, message: '请确认密码', trigger: 'blur' },\r\n                        { validator: this.firmPassword, trigger: 'blur' }\r\n                    ],\r\n                    regCitizenID: [\r\n                        { required: true, message: '请输入身份证号码', trigger: 'blur' },\r\n                        { validator: this.validID, trigger: 'blur' }\r\n                    ],\r\n                    regCode: [\r\n                        { required: true, message: '请输入验证码', trigger: 'blur' },\r\n                    ],\r\n                },\r\n                // 当前流程是否为登录\r\n                isLogin: true,\r\n                // 发送验证码的倒计时\r\n                count :60,\r\n                // 发送验证码的提示信息\r\n                codeMessage: '发送验证码',\r\n                // 用于控制当前是否允许点击发送验证码按钮\r\n                codeDisabled: false,\r\n                // 验证码ID的错误提示信息\r\n                regIdError: '',\r\n            }\r\n        },\r\n        methods: {\r\n            ...mapMutations([\r\n               'setUser'\r\n            ]),\r\n            // 身份证验证\r\n            async validID(rule,value,callback)\r\n            {\r\n                // 身份证号码为15位或者18位，15位时全为数字，18位前17位为数字，最后一位是校验位，可能为数字或字符X\r\n                let reg = /(^\\d{15}$)|(^\\d{18}$)|(^\\d{17}(\\d|X|x)$)/;\r\n                if (reg.test(value)) {\r\n                    callback()\r\n                } else {\r\n                    callback(new Error('身份证号码不正确'))\r\n                }\r\n            },\r\n            //确认密码验证\r\n            async firmPassword(rule,value,callback)\r\n            {\r\n                if (value === this.regForm.regPassword) {\r\n                    callback()\r\n                } else {\r\n                    callback(new Error('确认密码错误'))\r\n                }\r\n            },\r\n            onLogin() {\r\n                // 解密获得盐\r\n                let salt = window.atob(this.kingRoot);\r\n                // 获得加密后的密码\r\n                let original = this.bcrypt.hashSync(this.loginForm.loginPassword, window.atob(this.kingRoot));\r\n                // 切盐\r\n                let final = original.slice(salt.length);\r\n                this.$refs.loginForm.validate((valid) => {\r\n                    if (valid) {\r\n                        this.axios.post(loginAPI.login, this.qs.stringify({\r\n                            userID: this.loginForm.loginAccount,\r\n                            // 加密、切盐后的password\r\n                            password: final\r\n                        }))\r\n                            .then((response) => {\r\n                                // vuex设定 user\r\n                                this.setUser(response.data.objData);\r\n                                // localStorage 存储账号\r\n                                localStorage.setItem(\"account\", this.loginForm.loginAccount);\r\n                                // router push\r\n                                if(this.$route.query.redirect) {\r\n                                    let redirect_path = this.$route.query.redirect;\r\n                                    this.$router.push({path: redirect_path});\r\n                                } else {\r\n                                    // router push\r\n                                    this.$router.push('/main');\r\n                                }\r\n                            })\r\n                            .catch((error) => {\r\n                                if(error.response.data.resultCode === 2008) {\r\n                                    // 处理登录数超过限制的报错\r\n                                    let usingUserList = error.response.data.objData;\r\n\r\n                                    this.$alert('这是一段内容', error.response.data.message, {\r\n                                        confirmButtonText: '确定',\r\n                                        callback: action => {\r\n                                            this.$message({\r\n                                                type: 'info',\r\n                                                message: `action: ${ action }`\r\n                                            });\r\n                                        }\r\n                                    });\r\n                                } else {\r\n                                    this.$message({\r\n                                        type: 'error',\r\n                                        message: error.response.data.message\r\n                                    })\r\n                                }\r\n                            })\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                });\r\n            },\r\n            onRegister(){\r\n                // 解密获得盐\r\n                let salt = window.atob(this.kingRoot);\r\n                // 获得加密后的密码\r\n                let original = this.bcrypt.hashSync(this.regForm.regPassword, window.atob(this.kingRoot));\r\n                // 切盐\r\n                let final = original.slice(salt.length);\r\n                this.$refs.regForm.validate((valid) => {\r\n                    if (valid) {\r\n                        this.axios.post(loginAPI.register, this.qs.parse({\r\n                            id: this.regForm.regAccount,\r\n                            // 加密、切盐后的password\r\n                            password: final,\r\n                            code: this.regForm.regCode,\r\n                            citizenID: this.regForm.regCitizenID,\r\n                            registerType: this.regForm.regType\r\n                        }))\r\n                            .then((response) => {\r\n                                console.log(response);\r\n                                this.$refs.regForm.resetFields();\r\n                                this.regForm = {};\r\n                                // 提示成功信息\r\n                                this.$message({\r\n                                    type: 'success',\r\n                                    message: response.data.message\r\n                                });\r\n                                // 跳转回login\r\n                                this.isLogin = true;\r\n                            })\r\n                            .catch((error) => {\r\n                                this.$message({\r\n                                    type: 'error',\r\n                                    message: error.response.data.message\r\n                                })\r\n                            })\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                });\r\n            },\r\n            async onSendCode() {\r\n                try {\r\n                    if(this.regForm.regAccount === ''){\r\n                        this.regIdError = '请输入账号';\r\n                    }else{\r\n                        this.regIdError = '';\r\n                        let response = await this.sendCode();\r\n                        console.log(response);\r\n                        if(response.status === 200){\r\n                            //设置60s定时器\r\n                            this.countDown();\r\n                        }\r\n                    }\r\n                }catch (error) {\r\n                    // this.$message({\r\n                    //     type: 'error',\r\n                    //     message: error.response.data.content\r\n                    // })\r\n                    this.regIdError = error.response.data.content;\r\n                }\r\n            },\r\n            sendCode(){\r\n                let data = {};\r\n                let api = '';\r\n                switch (this.regForm.regType) {\r\n                    case '0':\r\n                        data = {\r\n                            email: this.regForm.regAccount\r\n                        };\r\n                        api = loginAPI.sendEmailCode;\r\n                        break;\r\n                    case '1':\r\n                        data = {\r\n                            phoneNum: this.regForm.regAccount\r\n                        };\r\n                        api = loginAPI.sendSmsCode;\r\n                        break;\r\n                    default:\r\n                        return Promise.reject({\r\n                            response: {\r\n                                data: {\r\n                                    content: '未选择方式'\r\n                                }\r\n                            }\r\n                        });\r\n                }\r\n                return this.axios.post(api, this.qs.stringify(data));\r\n            },\r\n            //60s计时器\r\n            countDown(){\r\n                let _this = this;\r\n                if(this.count === 0){\r\n                    //改变状态\r\n                    this.count = 60;\r\n                    this.codeMessage = '发送验证码';\r\n                    this.codeDisabled = false;\r\n                    return;\r\n                } else{\r\n                    this.count--;\r\n                    this.codeDisabled = true;\r\n                    this.codeMessage = this.count + \"s后重新发送\";\r\n                }\r\n                setTimeout(function () {\r\n                    _this.countDown();\r\n                }, 1000)\r\n            }\r\n        },\r\n        created() {\r\n            // 从 localStorage 中取出上次登录的账号\r\n            this.loginForm.loginAccount = localStorage.getItem(\"account\");\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .fade-enter-active, .fade-leave-active {\r\n        transition: opacity .2s;\r\n    }\r\n    .fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {\r\n        opacity: 0;\r\n    }\r\n    .login-main{\r\n        width: 500px;\r\n        border-radius: 4px;\r\n        box-shadow: 0 0 25px #cac6c6;\r\n        margin-bottom: 50px;\r\n        text-align: center;\r\n    }\r\n    .login-container{\r\n        width: 100vw;\r\n        height: 100vh;\r\n        overflow: hidden;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        background: linear-gradient(-135deg, #fff, #4158d0);\r\n    }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=8e6163c8&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=8e6163c8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8e6163c8\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !arrayMethodHasSpeciesSupport('slice') }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}