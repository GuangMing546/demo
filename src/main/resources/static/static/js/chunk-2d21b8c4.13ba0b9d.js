(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21b8c4"],{bff0:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.userList}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"200"}}),a("el-table-column",{attrs:{prop:"name",label:"名称",width:"180"}}),a("el-table-column",{attrs:{prop:"auth",label:"权限",width:"100",filters:[{text:"超级管理员",value:0},{text:"普通用户",value:1}],"filter-method":e.filterHandler},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.auth?a("span",[e._v("超级管理员")]):e._e(),1===t.row.auth?a("span",[e._v("普通用户")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"isFobiden",label:"封禁情况",width:"100",filters:[{text:"否",value:0},{text:"是",value:1}],"filter-method":e.filterHandler},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.isFobiden?a("span",[e._v("否")]):e._e(),1===t.row.isFobiden?a("span",[e._v("是")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"beginTime",label:"授权开始时间",width:"180",formatter:e.timeFormat}}),a("el-table-column",{attrs:{prop:"overTime",label:"授权结束时间",width:"180",formatter:e.timeFormat}}),a("el-table-column",{attrs:{prop:"citizenId",label:"身份证号码"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleModify(t.row.id)}}},[e._v("修改")]),a("el-divider",{attrs:{direction:"vertical"}}),0===t.row.isFobiden?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleBan(1,t.row.id)}}},[e._v("封禁")]):e._e(),1===t.row.isFobiden?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleBan(0,t.row.id)}}},[e._v("解封")]):e._e()]}}])})],1),a("el-dialog",{attrs:{title:"修改用户信息",visible:e.updateUserDialogVisible},on:{"update:visible":function(t){e.updateUserDialogVisible=t},close:e.handleClose}},[a("el-form",{ref:"updateUserForm",attrs:{model:e.updateUserData,size:"medium","label-width":"110px","label-position":"left"}},[a("el-form-item",{attrs:{label:"用户ID",prop:"id",required:""}},[a("el-input",{style:{width:"100%"},attrs:{placeholder:"请输入用户ID",readonly:"",disabled:!0,clearable:""},model:{value:e.updateUserData.id,callback:function(t){e.$set(e.updateUserData,"id",t)},expression:"updateUserData.id"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password",required:""}},[a("el-input",{style:{width:"100%"},attrs:{placeholder:"请输入密码",clearable:""},model:{value:e.updateUserData.password,callback:function(t){e.$set(e.updateUserData,"password",t)},expression:"updateUserData.password"}})],1),a("el-form-item",{attrs:{label:"名称",prop:"name",required:""}},[a("el-input",{style:{width:"100%"},attrs:{placeholder:"请输入名称",clearable:""},model:{value:e.updateUserData.name,callback:function(t){e.$set(e.updateUserData,"name",t)},expression:"updateUserData.name"}})],1),a("el-form-item",{attrs:{label:"身份证号码",prop:"citizenId",required:""}},[a("el-input",{style:{width:"100%"},attrs:{placeholder:"请输入身份证号码","show-word-limit":"",clearable:""},model:{value:e.updateUserData.citizenId,callback:function(t){e.$set(e.updateUserData,"citizenId",t)},expression:"updateUserData.citizenId"}})],1),a("el-form-item",{attrs:{label:"权限",prop:"auth",required:""}},[a("el-switch",{attrs:{"active-text":"超级管理员","inactive-text":"普通用户","active-value":0,"inactive-value":1},model:{value:e.updateUserData.auth,callback:function(t){e.$set(e.updateUserData,"auth",t)},expression:"updateUserData.auth"}})],1),a("el-form-item",{attrs:{label:"是否封禁",prop:"isFobiden",required:""}},[a("el-switch",{attrs:{"active-text":"是","inactive-text":"否","active-value":1,"inactive-value":0},model:{value:e.updateUserData.isFobiden,callback:function(t){e.$set(e.updateUserData,"isFobiden",t)},expression:"updateUserData.isFobiden"}})],1),a("el-form-item",{attrs:{label:"授权开始时间",prop:"beginTime",required:""}},[a("el-date-picker",{style:{width:"100%"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"请选择授权开始时间",clearable:"",readonly:"",disabled:!0},model:{value:e.updateUserData.beginTime,callback:function(t){e.$set(e.updateUserData,"beginTime",t)},expression:"updateUserData.beginTime"}})],1),a("el-form-item",{attrs:{label:"授权结束时间",prop:"overTime",required:""}},[a("el-date-picker",{style:{width:"100%"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"请选择授权结束时间",clearable:"",readonly:"",disabled:!0},model:{value:e.updateUserData.overTime,callback:function(t){e.$set(e.updateUserData,"overTime",t)},expression:"updateUserData.overTime"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleClose}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handelConfirm}},[e._v("确定")])],1)],1)],1)},r=[],i=(a("c740"),a("b0c0"),a("622a")),l=a("ed08"),o={name:"index",data:function(){return{userList:[],updateUserData:{},updateUserDialogVisible:!1}},methods:{getUserList:function(){var e=this;this.axios.post(i["d"].getAllUser).then((function(t){1===t.data.resultCode&&(e.userList=t.data.objData)})).catch((function(t){e.$message({type:"error",message:t.response.data.message})}))},filterHandler:function(e,t,a){var s=a["property"];return t[s]===e},timeFormat:function(e,t,a,s){return Object(l["d"])(a)},handleBan:function(e,t){var a=this;this.axios.post(i["d"].ban,this.qs.stringify({id:t,isBan:e})).then((function(e){1===e.data.resultCode&&(a.getUserList(),a.$message({type:"success",message:e.data.message}))})).catch((function(e){a.$message({type:"error",message:e.response.data.message})}))},handleModify:function(e){var t=this.userList.findIndex((function(t){return t.id===e}));this.updateUserData=this.userList[t],this.updateUserDialogVisible=!0},handelConfirm:function(){var e=this;this.$refs.updateUserForm.validate((function(t){if(!t)return!1;console.log(e.updateUserData),e.axios.post(i["d"].updateUserMsg,e.qs.parse({id:e.updateUserData.id,password:e.updateUserData.password,auth:e.updateUserData.auth,isFobiden:e.updateUserData.isFobiden,beginTime:e.updateUserData.beginTime,overTime:e.updateUserData.overTime,UUID:e.updateUserData.UUID,name:e.updateUserData.name,citizenId:e.updateUserData.citizenId})).then((function(t){1===t.data.resultCode&&(e.getUserList(),e.$message({type:"success",message:t.data.message}),e.updateUserDialogVisible=!1)})).catch((function(t){e.$message({type:"error",message:t.response.data.message})}))}))},handleClose:function(){this.updateUserData={},this.$refs.updateUserForm.resetFields(),this.updateUserDialogVisible=!1}},created:function(){this.getUserList()}},d=o,n=a("2877"),u=Object(n["a"])(d,s,r,!1,null,"a4cd492c",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d21b8c4.13ba0b9d.js.map