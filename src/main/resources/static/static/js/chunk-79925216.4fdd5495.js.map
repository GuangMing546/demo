{"version":3,"sources":["webpack:///./src/components/editor/components/Previewer/Preview.vue?9bd8","webpack:///src/components/editor/components/Previewer/Preview.vue","webpack:///./src/components/editor/components/Previewer/Preview.vue?b61d","webpack:///./src/components/editor/components/Previewer/Preview.vue","webpack:///./src/components/editor/components/Previewer/Preview.vue?63d9"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","staticStyle","attrs","staticRenderFns","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACG,IAAI,YAAYD,YAAY,kBAAkBE,YAAY,CAAC,SAAW,YAAYC,MAAM,CAAC,GAAK,qBAAqBL,EAAG,SAAS,IACpQM,EAAkB,G,uDCStB,GACE,KAAF,UACE,WAAF,CACI,KAAJ,QAEE,MAAF,CAEI,OAAJ,CACM,KAAN,OACM,QAAN,GAGI,MAAJ,CACM,KAAN,OAEM,QAAN,GAGI,KAAJ,CACM,KAAN,OACM,QAAN,eAGE,KAvBF,WAwBI,MAAJ,CACM,MAAN,KAEM,SAAN,KAGE,QA9BF,WA8BI,IAAJ,OAEI,KAAJ,sBACM,EAAN,WAGE,QAAF,CACI,KADJ,WAGA,YACA,WACM,KAAN,qBACQ,UAAR,kBACQ,OAAR,IACQ,MAAR,KACQ,MAAR,CAEU,QAAV,CACA,cACA,kBAKM,KAAN,YAKI,gBAvBJ,WAwBM,IAAN,0BACA,aACA,gBACM,KAAN,sBACQ,EAAR,6BAEM,OAAN,4CAEI,SAhCJ,WAgCM,IAAN,OACA,YACM,KAAN,cACM,KAAN,+BACQ,IAAR,oBACA,2BACY,EAAZ,6BCpF8X,I,wBCQ1XC,EAAY,eACd,EACAZ,EACAW,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,kECnBf,yBAA4hB,EAAG","file":"static/js/chunk-79925216.4fdd5495.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('div',{ref:\"mountNode\",staticClass:\"graph-container\",staticStyle:{\"position\":\"relative\"},attrs:{\"id\":\"graph-container\"}}),_c('Flow')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"page\">\r\n        <div ref=\"mountNode\" id=\"graph-container\" class=\"graph-container\" style=\"position: relative;\"></div>\r\n        <Flow></Flow>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import G6 from \"@antv/g6/build/g6\"\r\n    import Flow from \"../Flow\"\r\n    export default {\r\n        name: \"Preview\",\r\n        components: {\r\n            Flow\r\n        },\r\n        props: {\r\n            // canvas高度\r\n            height: {\r\n                type: Number,\r\n                default: 0\r\n            },\r\n            // canvas宽度\r\n            width: {\r\n                type: Number,\r\n                //\r\n                default: 0\r\n            },\r\n            // 传入用于初始化数据的data\r\n            data: {\r\n                type: Object,\r\n                default: () => {}\r\n            },\r\n        },\r\n        data() {\r\n            return {\r\n                graph: null,\r\n                // data: {\"nodes\":[{\"name\":\"开始节点\",\"label\":\"开始\",\"size\":[\"170\",\"34\"],\"type\":\"node\",\"x\":486,\"y\":95,\"shape\":\"customNode\",\"color\":\"#fa8c16\",\"image\":\"static/img/start.f43f033b.svg\",\"inPoints\":[[0,0.5]],\"outPoints\":[[1,0.5]],\"mType\":\"startNode\",\"attr\":{\"isSync\":false},\"attrName\":[{\"name\":\"同步\",\"attribute\":\"isSync\",\"type\":\"singleCheck\"}],\"offsetX\":108,\"offsetY\":17,\"id\":\"node272\"},{\"name\":\"结束节点\",\"label\":\"结束\",\"size\":[\"170\",\"34\"],\"type\":\"node\",\"x\":487,\"y\":743,\"shape\":\"customNode\",\"color\":\"#f5222d\",\"image\":\"static/img/end.902a1416.svg\",\"inPoints\":[[0,0.5]],\"outPoints\":[[1,0.5]],\"mType\":\"endNode\",\"offsetX\":131,\"offsetY\":16,\"id\":\"node279\"},{\"name\":\"采购1\",\"label\":\"采购1\",\"size\":[\"170\",\"34\"],\"type\":\"node\",\"x\":315,\"y\":220,\"shape\":\"customNode\",\"color\":\"#1890ff\",\"image\":\"https://gw.alipayobjects.com/zos/rmsportal/czNEJAmyDpclFaSucYWB.svg\",\"stateImage\":\"static/img/ok.463ab0e4.svg\",\"inPoints\":[[0,0.4],[0,0.5],[0,0.6]],\"outPoints\":[[1,0.4],[1,0.5],[1,0.6]],\"mType\":\"wfdNode\",\"attr\":{\"bindForm\":\"\",\"isSync\":false},\"attrName\":[{\"name\":\"绑定表单\",\"attribute\":\"bindForm\",\"type\":\"input\"},{\"name\":\"同步\",\"attribute\":\"isSync\",\"type\":\"singleCheck\"}],\"offsetX\":120,\"offsetY\":22,\"id\":\"node293\"},{\"name\":\"采购2\",\"label\":\"采购2\",\"size\":[\"170\",\"34\"],\"type\":\"node\",\"x\":649,\"y\":221,\"shape\":\"customNode\",\"color\":\"#1890ff\",\"image\":\"https://gw.alipayobjects.com/zos/rmsportal/czNEJAmyDpclFaSucYWB.svg\",\"stateImage\":\"static/img/ok.463ab0e4.svg\",\"inPoints\":[[0,0.4],[0,0.5],[0,0.6]],\"outPoints\":[[1,0.4],[1,0.5],[1,0.6]],\"mType\":\"wfdNode\",\"attr\":{\"bindForm\":\"\",\"isSync\":false},\"attrName\":[{\"name\":\"绑定表单\",\"attribute\":\"bindForm\",\"type\":\"input\"},{\"name\":\"同步\",\"attribute\":\"isSync\",\"type\":\"singleCheck\"}],\"offsetX\":103,\"offsetY\":14,\"id\":\"node322\"},{\"name\":\"审批\",\"label\":\"审批\",\"size\":[\"170\",\"34\"],\"type\":\"node\",\"x\":485,\"y\":342,\"shape\":\"customNode\",\"color\":\"#1890ff\",\"image\":\"https://gw.alipayobjects.com/zos/rmsportal/czNEJAmyDpclFaSucYWB.svg\",\"stateImage\":\"static/img/ok.463ab0e4.svg\",\"inPoints\":[[0,0.4],[0,0.5],[0,0.6]],\"outPoints\":[[1,0.4],[1,0.5],[1,0.6]],\"mType\":\"wfdNode\",\"attr\":{\"bindForm\":\"\",\"isSync\":false},\"attrName\":[{\"name\":\"绑定表单\",\"attribute\":\"bindForm\",\"type\":\"input\"},{\"name\":\"同步\",\"attribute\":\"isSync\",\"type\":\"singleCheck\"}],\"offsetX\":111,\"offsetY\":7,\"id\":\"node351\"},{\"name\":\"生产1\",\"label\":\"生产1\",\"size\":[\"170\",\"34\"],\"type\":\"node\",\"x\":228,\"y\":461,\"shape\":\"customNode\",\"color\":\"#1890ff\",\"image\":\"https://gw.alipayobjects.com/zos/rmsportal/czNEJAmyDpclFaSucYWB.svg\",\"stateImage\":\"static/img/ok.463ab0e4.svg\",\"inPoints\":[[0,0.4],[0,0.5],[0,0.6]],\"outPoints\":[[1,0.4],[1,0.5],[1,0.6]],\"mType\":\"wfdNode\",\"attr\":{\"bindForm\":\"\",\"isSync\":false},\"attrName\":[{\"name\":\"绑定表单\",\"attribute\":\"bindForm\",\"type\":\"input\"},{\"name\":\"同步\",\"attribute\":\"isSync\",\"type\":\"singleCheck\"}],\"offsetX\":88,\"offsetY\":15,\"id\":\"node380\"},{\"name\":\"生产2\",\"label\":\"生产2\",\"size\":[\"170\",\"34\"],\"type\":\"node\",\"x\":490,\"y\":461,\"shape\":\"customNode\",\"color\":\"#1890ff\",\"image\":\"https://gw.alipayobjects.com/zos/rmsportal/czNEJAmyDpclFaSucYWB.svg\",\"stateImage\":\"static/img/ok.463ab0e4.svg\",\"inPoints\":[[0,0.4],[0,0.5],[0,0.6]],\"outPoints\":[[1,0.4],[1,0.5],[1,0.6]],\"mType\":\"wfdNode\",\"attr\":{\"bindForm\":\"\",\"isSync\":false},\"attrName\":[{\"name\":\"绑定表单\",\"attribute\":\"bindForm\",\"type\":\"input\"},{\"name\":\"同步\",\"attribute\":\"isSync\",\"type\":\"singleCheck\"}],\"offsetX\":135,\"offsetY\":12,\"id\":\"node409\"},{\"name\":\"生产3\",\"label\":\"生产3\",\"size\":[\"170\",\"34\"],\"type\":\"node\",\"x\":773,\"y\":462,\"shape\":\"customNode\",\"color\":\"#1890ff\",\"image\":\"https://gw.alipayobjects.com/zos/rmsportal/czNEJAmyDpclFaSucYWB.svg\",\"stateImage\":\"static/img/ok.463ab0e4.svg\",\"inPoints\":[[0,0.4],[0,0.5],[0,0.6]],\"outPoints\":[[1,0.4],[1,0.5],[1,0.6]],\"mType\":\"wfdNode\",\"attr\":{\"bindForm\":\"\",\"isSync\":false},\"attrName\":[{\"name\":\"绑定表单\",\"attribute\":\"bindForm\",\"type\":\"input\"},{\"name\":\"同步\",\"attribute\":\"isSync\",\"type\":\"singleCheck\"}],\"offsetX\":76,\"offsetY\":7,\"id\":\"node424\"},{\"name\":\"副加工\",\"label\":\"副加工\",\"size\":[\"170\",\"34\"],\"type\":\"node\",\"x\":331,\"y\":541,\"shape\":\"customNode\",\"color\":\"#1890ff\",\"image\":\"https://gw.alipayobjects.com/zos/rmsportal/czNEJAmyDpclFaSucYWB.svg\",\"stateImage\":\"static/img/ok.463ab0e4.svg\",\"inPoints\":[[0,0.4],[0,0.5],[0,0.6]],\"outPoints\":[[1,0.4],[1,0.5],[1,0.6]],\"mType\":\"wfdNode\",\"attr\":{\"bindForm\":\"\",\"isSync\":false},\"attrName\":[{\"name\":\"绑定表单\",\"attribute\":\"bindForm\",\"type\":\"input\"},{\"name\":\"同步\",\"attribute\":\"isSync\",\"type\":\"singleCheck\"}],\"offsetX\":92,\"offsetY\":14,\"id\":\"node927\"},{\"name\":\"打包\",\"label\":\"打包\",\"size\":[\"170\",\"34\"],\"type\":\"node\",\"x\":490,\"y\":619,\"shape\":\"customNode\",\"color\":\"#1890ff\",\"image\":\"https://gw.alipayobjects.com/zos/rmsportal/czNEJAmyDpclFaSucYWB.svg\",\"stateImage\":\"static/img/ok.463ab0e4.svg\",\"inPoints\":[[0,0.4],[0,0.5],[0,0.6]],\"outPoints\":[[1,0.4],[1,0.5],[1,0.6]],\"mType\":\"wfdNode\",\"attr\":{\"bindForm\":\"\",\"isSync\":false},\"attrName\":[{\"name\":\"绑定表单\",\"attribute\":\"bindForm\",\"type\":\"input\"},{\"name\":\"同步\",\"attribute\":\"isSync\",\"type\":\"singleCheck\"}],\"offsetX\":104,\"offsetY\":16,\"id\":\"node970\"}],\"edges\":[{\"id\":\"edge540\",\"source\":\"node272\",\"target\":\"node293\",\"sourceId\":\"node272\",\"targetId\":\"node293\",\"start\":{\"x\":0,\"y\":17},\"end\":{\"x\":0,\"y\":-17},\"shape\":\"customEdge\",\"type\":\"edge\",\"startPoint\":{\"x\":462.06,\"y\":112.5},\"endPoint\":{\"x\":338.94,\"y\":202.5}},{\"id\":\"edge699\",\"source\":\"node293\",\"target\":\"node351\",\"sourceId\":\"node293\",\"targetId\":\"node351\",\"start\":{\"x\":0,\"y\":17},\"end\":{\"x\":0,\"y\":-17},\"shape\":\"customEdge\",\"type\":\"edge\",\"startPoint\":{\"x\":339.38524590163934,\"y\":237.5},\"endPoint\":{\"x\":460.61475409836066,\"y\":324.5}},{\"id\":\"edge756\",\"source\":\"node322\",\"target\":\"node351\",\"sourceId\":\"node322\",\"targetId\":\"node351\",\"start\":{\"x\":0,\"y\":17},\"end\":{\"x\":0,\"y\":-17},\"shape\":\"customEdge\",\"type\":\"edge\",\"startPoint\":{\"x\":625.2809917355372,\"y\":238.5},\"endPoint\":{\"x\":508.7190082644628,\"y\":324.5}},{\"id\":\"edge809\",\"source\":\"node351\",\"target\":\"node380\",\"sourceId\":\"node351\",\"targetId\":\"node380\",\"start\":{\"x\":0,\"y\":17},\"end\":{\"x\":0,\"y\":-17},\"shape\":\"customEdge\",\"type\":\"edge\",\"startPoint\":{\"x\":447.20588235294116,\"y\":359.5},\"endPoint\":{\"x\":265.79411764705884,\"y\":443.5}},{\"id\":\"edge856\",\"source\":\"node351\",\"target\":\"node409\",\"sourceId\":\"node351\",\"targetId\":\"node409\",\"start\":{\"x\":0,\"y\":17},\"end\":{\"x\":0,\"y\":-17},\"shape\":\"customEdge\",\"type\":\"edge\",\"startPoint\":{\"x\":485.7352941176471,\"y\":359.5},\"endPoint\":{\"x\":489.2647058823529,\"y\":443.5}},{\"id\":\"edge925\",\"source\":\"node351\",\"target\":\"node424\",\"sourceId\":\"node351\",\"targetId\":\"node424\",\"start\":{\"x\":0,\"y\":17},\"end\":{\"x\":0,\"y\":-17},\"shape\":\"customEdge\",\"type\":\"edge\",\"startPoint\":{\"x\":527,\"y\":359.5},\"endPoint\":{\"x\":731,\"y\":444.5}},{\"id\":\"edge1061\",\"source\":\"node380\",\"target\":\"node927\",\"sourceId\":\"node380\",\"targetId\":\"node927\",\"start\":{\"x\":0,\"y\":17},\"end\":{\"x\":0,\"y\":-17},\"shape\":\"customEdge\",\"type\":\"edge\",\"startPoint\":{\"x\":250.53125,\"y\":478.5},\"endPoint\":{\"x\":308.46875,\"y\":523.5}},{\"id\":\"edge1113\",\"source\":\"node409\",\"target\":\"node927\",\"sourceId\":\"node409\",\"targetId\":\"node927\",\"start\":{\"x\":0,\"y\":17},\"end\":{\"x\":0,\"y\":-17},\"shape\":\"customEdge\",\"type\":\"edge\",\"startPoint\":{\"x\":455.21875,\"y\":478.5},\"endPoint\":{\"x\":365.78125,\"y\":523.5}},{\"id\":\"edge1200\",\"source\":\"node927\",\"target\":\"node970\",\"sourceId\":\"node927\",\"targetId\":\"node970\",\"start\":{\"x\":0,\"y\":17},\"end\":{\"x\":0,\"y\":-17},\"shape\":\"customEdge\",\"type\":\"edge\",\"startPoint\":{\"x\":366.6730769230769,\"y\":558.5},\"endPoint\":{\"x\":454.3269230769231,\"y\":601.5}},{\"id\":\"edge1252\",\"source\":\"node424\",\"target\":\"node970\",\"sourceId\":\"node424\",\"targetId\":\"node970\",\"start\":{\"x\":0,\"y\":17},\"end\":{\"x\":0,\"y\":-17},\"shape\":\"customEdge\",\"type\":\"edge\",\"startPoint\":{\"x\":741.4554140127389,\"y\":479.5},\"endPoint\":{\"x\":521.5445859872611,\"y\":601.5}},{\"id\":\"edge1283\",\"source\":\"node970\",\"target\":\"node279\",\"sourceId\":\"node970\",\"targetId\":\"node279\",\"start\":{\"x\":0,\"y\":17},\"end\":{\"x\":0,\"y\":-17},\"shape\":\"customEdge\",\"type\":\"edge\",\"startPoint\":{\"x\":489.5766129032258,\"y\":636.5},\"endPoint\":{\"x\":487.4233870967742,\"y\":725.5}},{\"id\":\"edge1421\",\"source\":\"node272\",\"target\":\"node322\",\"sourceId\":\"node272\",\"targetId\":\"node322\",\"start\":{\"x\":0,\"y\":17},\"end\":{\"x\":0,\"y\":-17},\"shape\":\"customEdge\",\"type\":\"edge\",\"startPoint\":{\"x\":508.6388888888889,\"y\":112.5},\"endPoint\":{\"x\":626.3611111111111,\"y\":203.5}}],\"groups\":[]},\r\n                nowState: [],\r\n            }\r\n        },\r\n        mounted() {\r\n            // Vue.nextTick用于延迟执行一段代码\r\n            this.$nextTick(() => {\r\n                this.init();\r\n            });\r\n        },\r\n        methods: {\r\n            init(){\r\n                // 通过计算获得g6的height和width\r\n                const height =  this.height - 42\r\n                const width =  this.width - 400\r\n                this.graph = new G6.Graph({\r\n                    container: \"graph-container\",\r\n                    height: 800,\r\n                    width: 1200,\r\n                    modes: {\r\n                        // default mode下支持的 behavior\r\n                        default: [\r\n                            \"drag-canvas\",\r\n                            \"zoom-canvas\"\r\n                        ],\r\n                    }\r\n                });\r\n                // this.initResizeEvent();\r\n                this.readData();\r\n            },\r\n            /**\r\n             * 注册resize的时候改变canvas大小的event\r\n             */\r\n            initResizeEvent() {\r\n                const page = this.$refs['mountNode'];\r\n                const graph = this.graph;\r\n                const height = this.height-1;\r\n                this.resizeFunc = ()=>{\r\n                    graph.changeSize(page.offsetWidth,height);\r\n                };\r\n                window.addEventListener(\"resize\", this.resizeFunc);\r\n            },\r\n            readData() {\r\n                let data = this.data;\r\n                this.graph.read(data);\r\n                this.graph.find(\"node\", node => {\r\n                    for(let i in this.nowState){\r\n                        if(node._cfg.id === this.nowState[i]){\r\n                            node.setState(\"running\", true);\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style scoped>\r\n.page {\r\n    height: 800px;\r\n    width: 1200px;\r\n    margin: 50px;\r\n    border: 1px solid #eee;\r\n    box-shadow: 0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04);\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Preview.vue?vue&type=template&id=7413e99a&scoped=true&\"\nimport script from \"./Preview.vue?vue&type=script&lang=js&\"\nexport * from \"./Preview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Preview.vue?vue&type=style&index=0&id=7413e99a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7413e99a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preview.vue?vue&type=style&index=0&id=7413e99a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preview.vue?vue&type=style&index=0&id=7413e99a&scoped=true&lang=css&\""],"sourceRoot":""}